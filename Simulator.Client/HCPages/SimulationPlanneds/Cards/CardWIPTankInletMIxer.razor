@using Simulator.Shared.Simulations.Mixers
@using Simulator.Shared.Simulations.Tanks
@using Simulator.Shared.Simulations.Tanks.WIPLinetMixers


<CardTank Tank="@Tank">
    <States>
        <LabelSimulation Label="Produced Batchs" Value="@Tank.Batchs.ToString()"></LabelSimulation>
        <LabelSimulation Label="Mass Needed" Value="@Tank.MassCurrentSku.Needed.ToString("G6")"></LabelSimulation>
        <LabelSimulation Label="Producing mass" Value="@Tank.MassCurrentSku.Producing.ToString("G6")"></LabelSimulation>
        <LabelSimulation Label="Time to start next Batch" Value="@Tank.TimeToStartNextBatchString.ToString()"></LabelSimulation>
       

        <MudText Typo="Typo.overline" class="display-flex mt-2 my-0"><strong>Manufacturers Attached</strong></MudText>
        @foreach (var row in Tank.ManufacturingEquipments)
        {


            @if (row is BaseMixer mixer)
            {
                <CardMixerDataForTanks Mixer="@mixer"></CardMixerDataForTanks>


            }
            else if (row is WIPForProductBackBone tank)
            {
                <CardWIPProductDataForTank Tank="@tank"></CardWIPProductDataForTank>
            }
            <MudSpacer></MudSpacer>

        }
       
   
    </States>
</CardTank>


@code {

    [Parameter]

    public WIPInletMixer Tank { get; set; } = null!;


}
