
@if (Simulation != null)
{
    <MudStack Row=true Justify="Justify.FlexStart" AlignItems="AlignItems.Center">
        <MudText Typo=Typo.button Color="Color.Dark">@($"Init time: {Simulation.InitDate.ToString()}")</MudText>
        <MudText Typo=Typo.button>@($"End time: {Simulation.EndDate.ToString()}")</MudText>


    </MudStack>

    <MudStack Row=true Justify="Justify.FlexStart" AlignItems="AlignItems.Center">

        <MudText Typo=Typo.button>@($"Date: {Simulation.CurrentDate.ToShortDateString()}")</MudText>
        <MudText Typo=Typo.button>@($"Current Shift: {Simulation.CurrentShift}")</MudText>
        <MudText Typo=Typo.button>@($"Hour: {Simulation.CurrentDate.Hour}")</MudText>
        <MudText Typo=Typo.button>@($"Minute: {Simulation.CurrentDate.Minute}")</MudText>
        <MudText Typo=Typo.button>@($"Second: {Simulation.CurrentDate.Second}")</MudText>


    </MudStack>
    <MudGrid>
        <MudItem xs="3">
            <MudStack Spacing="2">
                @foreach (var row in Simulation.BackBoneRawMaterialTanks)
                {
                    <CardBackboneRawMaterialTank Tank=@row></CardBackboneRawMaterialTank>
                }
                @foreach (var row in Simulation.RawMaterialTank)
                {
                    <CardRawMaterialTank Tank="@row">

                    </CardRawMaterialTank>

                }
            </MudStack>
        </MudItem>
        <MudItem xs="3">
            @foreach (var row in Simulation.SKIDs)
            {
                <CardSkid SKID="@row">

                </CardSkid>

            }
            @foreach (var row in Simulation.WIPProductTanks)
            {
                <CardWIPProductTank Tank="@row">

                </CardWIPProductTank>

            }
            @foreach (var row in Simulation.MixerOrdered)
            {
                <CardMixer Mixer="@row">

                </CardMixer>

            }
        </MudItem>
        <MudItem xs="6">
            @foreach (var row in Simulation.WIPSKIDTankOrdered)
            {
                <MudStack Row=true Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center">
                    <MudGrid>
                        <MudItem xs="6">
                            <CardWIPTankInletSKID Tank="@row">

                            </CardWIPTankInletSKID>
                        </MudItem>
                        <MudItem xs="6">
                            @if (row.Line != null)
                            {
                                <CardLine Line="@row.Line">

                                </CardLine>
                            }
                        </MudItem>
                    </MudGrid>


                </MudStack>
            }
            @foreach (var row in Simulation.WIPMixerTankOrdered)
            {
                <MudStack Row=true Justify="Justify.SpaceBetween" AlignItems="AlignItems.Center">
                    <MudGrid>
                        <MudItem xs="6">
                            <CardWIPTankInletMIxer Tank="@row">

                            </CardWIPTankInletMIxer>
                        </MudItem>
                        <MudItem xs="6">
                            @if (row.Line != null)
                            {
                                <CardLine Line="@row.Line">

                                </CardLine>
                            }
                        </MudItem>
                    </MudGrid>


                </MudStack>

            }
        </MudItem>
    </MudGrid>
}


@code {
    [Parameter]
    public NewSimulation Simulation { get; set; } = null!;
}
