
<MudStack Spacing="3" Breakpoint="Breakpoint.Md">
    <MudStack Row="true" Justify="Justify.FlexStart" AlignItems="AlignItems.Center" Class="mb-4">
        <MudTooltip Text="Load Process flow diagram">
            <MudButton Variant="Variant.Filled" Color="Color.Primary" Size=Size.Medium OnClick="RefreshProcessFlowDiagram" StartIcon="@Icons.Material.Filled.CloudUpload">Load Process</MudButton>

        </MudTooltip>

    </MudStack>
    @if (!isLoading)
    {
        <MudTabs>
            <MudTabPanel Text="Process Flow Diagram">
                <ProcessFlowDiagram Simulation="@Simulation" GetAll="RefreshProcessFlowDiagram" />
            </MudTabPanel>
            <MudTabPanel Text="Process Analysis">
                <ProductionAnalysisMain Simulation=@Simulation />
            </MudTabPanel>
            <MudTabPanel Text="Production Plans">
                <SimulationPlannedTable MainProcessId="@MainProcessId" @bind-Simulation=@Simulation ></SimulationPlannedTable>
            </MudTabPanel>
            <MudTabPanel Text="Simulation">
                <SimulationPage Simulation="@Simulation"></SimulationPage>
            </MudTabPanel>
        </MudTabs>
    }
    else
    {
        <MudProgressCircular Color="Color.Primary" Indeterminate="true" Size="Size.Large" Class="my-4" />
    }


</MudStack>

@code {
    [Parameter]
    public Guid MainProcessId { get; set; }
    [Parameter]
    public NewSimulation Simulation { get; set; } = new();

   
    [Parameter]
    public bool isLoading { get; set; } = false;

    [Parameter]
    public EventCallback RefreshProcessFlowDiagram { get; set; }


}
