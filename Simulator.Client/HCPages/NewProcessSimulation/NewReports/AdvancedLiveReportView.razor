@page "/advanced-live-report"
@using Simulator.Shared.NuevaSimlationconQwen
@using Simulator.Shared.NuevaSimlationconQwen.Reports


@* <div class="advanced-live-report">
    @for (int col = 0; col < 4; col++)
    {
        var column = (ReportColumn)col;
        var columnItems = Layout.OrderBy(x => x.RowIndex).Where(x => x.Column == column).ToList();
        <div class="report-column">
            <h3>@GetColumnTitle(column)</h3>
            <div class="report-rows">
                @for (int row = 0; row <= Layout.Max(x => x.RowIndex); row++)
                {
                    var item = columnItems.FirstOrDefault(x => x.RowIndex == row);
                    if (item != null)
                    {
                        <div class="report-item" style="@(GetItemStyle())">
                            @foreach (var field in item.Equipment.GetLiveReportItems())
                            {
                                <div class="report-field" style="@(GetFieldStyle(field))">
                                    <strong>@field.Label:</strong> @field.Value
                                </div>
                            }
                        </div>
                    }
                    else
                    {
                        <div class="report-item empty"></div> <!-- Espacio vacío para alineación -->
                    }
                }
            </div>
        </div>
    }
</div> *@

@code {
    // private List<ReportLayoutItem> Layout { get; set; } = new();
    // [Parameter]
    // public GeneralSimulation Simulation { get; set; } = null!;
    // ReportLayoutService LayoutService = null!;
    // protected override void OnInitialized()
    // {
    //     LayoutService = new(Simulation);
    //     Layout = LayoutService.GetLayout();
    // }

    // private string GetColumnTitle(ReportColumn column) => column switch
    // {
    //     ReportColumn.Column1_OperatorsAndRawMaterialTanks => "Operarios y Tanques MP",
    //     ReportColumn.Column2_SkidsAndMixers => "SKIDs y Fabricantes",
    //     ReportColumn.Column3_WipTanks => "Tanques WIP",
    //     ReportColumn.Column4_Lines => "Líneas",
    //     _ => "Desconocido"
    // };

    // private string GetItemStyle() => "padding: 10px; margin: 5px; border: 1px solid #ccc; border-radius: 5px;";

    // private string GetFieldStyle(LiveReportItem field) => $"color: {field.Style.Color}; font-weight: {field.Style.FontEmphasis};";
}